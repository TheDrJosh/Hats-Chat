<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Web Chat</title>
    <meta name="description" content="A Web Chat app.">
    <meta name="author" content="Joshua">
    <link rel="icon" href="/assets/favicon.ico">
    <link href="/assets/output.css" rel="stylesheet">
    <script src="https://unpkg.com/htmx.org@1.9.2"
        integrity="sha384-L6OqL9pRWyyFU3+/bjdSri+iIphTN/bvYyM37tICVyOJkWZLpP2vGn6VUEXgzg6h"
        crossorigin="anonymous"></script>
</head>

<body class="w-screen h-screen flex flex-col dark:text-white">
    <nav class="flex flex-row bg-cyan-400 dark:bg-slate-900 p-3">
        <div class="flex-initial flex">
            <img src="/assets/icon.webp" class="w-16 h-16" alt="">
            <h1 class="col-start-2 self-center ml-5 text-4xl font-bold tracking-tight">Web Chat</h1>
        </div>
        <div class="flex-1"></div>
        <div class="flex flex-col">
            <img id="profile_pic" src="/assets/default_profile.webp" class="w-12 h-12 flex-initial justify-self-end self-center mr-1" alt="">
            <label for="profile_pic" class="text-center">{account_name}</label>
        </div>
    </nav>
    <div class="flex flex-row w-full h-full">
        <aside id="sidebar" aria-label="Sidebar"
            class="bg-cyan-600 dark:bg-slate-700 flex-initial w-60 h-full overflow-auto">
            <ul class="flex flex-col mt-1">
                {chat_list}
            </ul>
        </aside>

        <div class="flex-1 bg-cyan-200 dark:bg-slate-600 flex flex-col-reverse">
            <form class="bg-cyan-300 dark:bg-slate-500 px-5 py-3 flex flex-row" hx-post="/api/chat/bob" hx-target="#chat">
                <input type="text" class="rounded-lg w-full bg-cyan-50 dark:bg-slate-400 p-1" name="message">
                <button type="button"
                    class="m-1 p-1 bg-cyan-50 dark:bg-slate-400 rounded-lg whitespace-nowrap">attach-file</button>
                <button type="submit" class="m-1 p-1 bg-cyan-50 dark:bg-slate-400 rounded-lg">send</button>
            </form>
            <ol id="chat" class="flex flex-col-reverse m-3">
                {chat}
            </ol>
        </div>
    </div>


</body>

</html>